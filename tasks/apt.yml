---
- name: Install dependencies
  apt:
    pkg: 
      - ca-certificates-java
      - fonts-liberation
      - java-common 
      - libpcsclite1
      - gpg
      - libappindicator3-0.1-cil-dev
      - openjdk-11-jre-headless
    state: fixed
  when: googlechrome_state != "absent"
  tags: googlechrome

- name: Make repository key {{ googlechrome_state }}
  apt_key:
    url: "{{ googlechrome_linux_signing_key_url }}"
  when: googlechrome_state != "absent"
  tags: googlechrome

- name: Make repository URL {{ googlechrome_state }} in the sources list
  apt_repository:
    repo: "{{ googlechrome_apt_repository_url }}"
    state: "{{ googlechrome_state }}"
  tags: googlechrome

- name: Make Google Chrome {{ googlechrome_state }}
  apt: 
    name: "google-chrome-stable"
    state: "{{ googlechrome_state }}"
    autoremove: true
    update_cache: true
    force_apt_get: true
  tags: googlechrome
